<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHA HASH GENERATOR</title>
    <link rel="stylesheet" href="../common.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/js-sha3/0.9.2/sha3.min.js"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #e3f6fc 0%, #b3c6f9 100%);
            min-height: 100vh;
            margin: 0;
            padding: 0;
        }

        /* Ensure navbar spans full width */
        .navbar {
            width: 100%;
            left: 0;
            right: 0;
            margin: 0;
            padding: 1rem 2rem;
        }

        /* Main container */
        .main-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            margin-top: 20px;
        }

        /* Page title */
        .page-title {
            text-align: center;
            color: #2196f3;
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 2rem;
            text-shadow: 0 2px 4px rgba(33, 150, 243, 0.1);
        }

        /* Main card */
        .main-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        /* Input section */
        .input-section {
            margin-bottom: 2rem;
        }

        .section-label {
            display: block;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .text-area {
            width: 100%;
            min-height: 120px;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            font-family: 'Courier New', monospace;
            resize: vertical;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }

        .text-area:focus {
            outline: none;
            border-color: #2196f3;
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        .text-area::placeholder {
            color: #999;
        }

        /* SHA Family dropdowns */
        .sha-family-section {
            margin-bottom: 2rem;
        }

        .dropdowns-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .dropdown {
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: border-color 0.3s ease;
        }

        .dropdown:focus {
            outline: none;
            border-color: #2196f3;
            box-shadow: 0 0 0 3px rgba(33, 150, 243, 0.1);
        }

        /* Action buttons */
        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 100px;
        }

        .btn-primary {
            background: #2196f3;
            color: white;
        }

        .btn-primary:hover {
            background: #1976d2;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }

        .btn-success {
            background: #4caf50;
            color: white;
        }

        .btn-success:hover {
            background: #388e3c;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }

        .btn-warning {
            background: #ff9800;
            color: white;
        }

        .btn-warning:hover {
            background: #f57c00;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }

        /* Output section */
        .output-section {
            margin-bottom: 1rem;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .page-title {
                font-size: 2rem;
            }
            
            .main-card {
                padding: 1.5rem;
            }
            
            .dropdowns-container {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Toolbar from common.css -->
<div class="navbar">
    <img src="../images/logo.png" alt="Logo">
        <div class="nav-links">
            <a href="../index.html">HOME</a>
            <a href="../articles.html">ARTICLES</a>
        </div>
</div>

    <div class="main-container">
        <h1 class="page-title">SHA HASH GENERATOR</h1>
        
        <div class="main-card">
            <!-- Input Section -->
            <div class="input-section">
                <label class="section-label" for="inputText">Input</label>
                <textarea id="inputText" class="text-area" placeholder="Enter text..."></textarea>
            </div>

            <!-- SHA Family Selection -->
            <div class="sha-family-section">
                <div class="dropdowns-container">
                    <select id="sha2Family" class="dropdown" onchange="onSHA2Select()">
                        <option value="">SHA-2 Family</option>
                        <option value="SHA-256">SHA-256</option>
                        <option value="SHA-384">SHA-384</option>
                        <option value="SHA-512">SHA-512</option>
                    </select>
                    
                    <select id="sha3Family" class="dropdown" onchange="onSHA3Select()">
                        <option value="">SHA-3 Family</option>
                        <option value="SHA3-224">SHA3-224</option>
                        <option value="SHA3-256">SHA3-256</option>
                        <option value="SHA3-384">SHA3-384</option>
                        <option value="SHA3-512">SHA3-512</option>
                    </select>
                </div>
                </div>

            <!-- Action Buttons -->
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="generateHash()">Generate</button>
                <button class="btn btn-success" onclick="copyHash()">Copy</button>
                <button class="btn btn-warning" onclick="clearAll()">Clear</button>
            </div>

            <!-- Output Section -->
            <div class="output-section">
                <label class="section-label" for="outputText">Output</label>
                <textarea id="outputText" class="text-area" readonly placeholder="Generated hash will appear here..."></textarea>
            </div>
        </div>
    </div>

<script>
        // Handle SHA-2 family selection
        function onSHA2Select() {
            const sha2Select = document.getElementById('sha2Family');
            const sha3Select = document.getElementById('sha3Family');
            
            if (sha2Select.value) {
                sha3Select.value = '';
            }
        }

        // Handle SHA-3 family selection
    function onSHA3Select() {
            const sha2Select = document.getElementById('sha2Family');
            const sha3Select = document.getElementById('sha3Family');
            
            if (sha3Select.value) {
                sha2Select.value = '';
            }
        }

        // Get selected algorithm
        function getSelectedAlgorithm() {
            const sha2Family = document.getElementById('sha2Family').value;
            const sha3Family = document.getElementById('sha3Family').value;
            
            if (sha2Family) return sha2Family;
            if (sha3Family) return sha3Family;
            return '';
        }

        // Generate SHA hash
        async function generateHash() {
            const inputText = document.getElementById('inputText').value.trim();
            const algorithm = getSelectedAlgorithm();
            
            if (!inputText) {
                alert('Please enter some text to hash.');
                return;
            }
            
            if (!algorithm) {
                alert('Please select a SHA algorithm.');
                return;
            }
            
            try {
                let hashHex = '';
                
                // Check if algorithm is supported by Web Crypto API (SHA-2 family)
                const supportedSHA2Algorithms = ['SHA-256', 'SHA-384', 'SHA-512'];
                
                if (supportedSHA2Algorithms.includes(algorithm)) {
                    // Use Web Crypto API for supported SHA-2 algorithms
                    const hashBuffer = await crypto.subtle.digest(algorithm, new TextEncoder().encode(inputText));
                    const hashArray = Array.from(new Uint8Array(hashBuffer));
                    hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');
                } else if (algorithm.startsWith('SHA3-')) {
            // Use js-sha3 library for SHA-3 family
                    try {
                        switch (algorithm) {
                            case 'SHA3-224':
                                hashHex = sha3_224(inputText);
                                break;
                            case 'SHA3-256':
                                hashHex = sha3_256(inputText);
                                break;
                            case 'SHA3-384':
                                hashHex = sha3_384(inputText);
                                break;
                            case 'SHA3-512':
                                hashHex = sha3_512(inputText);
                                break;
                            default:
                                hashHex = `Algorithm ${algorithm} is not supported.`;
                        }
                    } catch (sha3Error) {
                        hashHex = `Error with SHA-3: ${sha3Error.message}`;
                    }
                } else {
                    hashHex = `Algorithm ${algorithm} is not supported. Please use SHA-256, SHA-384, SHA-512, or SHA-3 family.`;
                }
                
                document.getElementById('outputText').value = hashHex;
            } catch (error) {
                document.getElementById('outputText').value = `Error generating hash: ${error.message}`;
            }
        }

        // Copy hash to clipboard
        async function copyHash() {
            const outputText = document.getElementById('outputText').value;
            
            if (!outputText || 
                outputText.includes('Error') || 
                outputText.includes('not yet supported') || 
                outputText.includes('not supported') ||
                outputText.includes('Please use')) {
                alert('No valid hash to copy.');
                return;
            }
            
            try {
                await navigator.clipboard.writeText(outputText);
                alert('Hash copied to clipboard!');
            } catch (error) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = outputText;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Hash copied to clipboard!');
            }
        }

        // Clear all fields
        function clearAll() {
            document.getElementById('inputText').value = '';
            document.getElementById('outputText').value = '';
            document.getElementById('sha2Family').selectedIndex = 0;
            document.getElementById('sha3Family').selectedIndex = 0;
        }

        // Handle Enter key in input field
        document.getElementById('inputText').addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                generateHash();
            }
        });
</script>
</body>
</html>


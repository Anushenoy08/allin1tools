<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Articles</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: auto; }
    .article-card {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 16px;
      margin-bottom: 20px;
      cursor: pointer;
      transition: box-shadow 0.2s;
    }
    .article-card:hover {
      box-shadow: 0px 4px 10px rgba(0,0,0,0.1);
    }
    .title { font-size: 1.5em; margin: 0; }
    .date { color: #777; font-size: 0.9em; margin: 5px 0 10px; }
  </style>
</head>
<body>
  <h1>Articles</h1>
  <div id="articles"></div>

  <script>
    const spaceId = "4l890vk1ti4c";
    const accessToken = "bPbgjAoOo6pmJT3DTI82TSry6MQh8zwuHEbi9VtVkmA";
    const environment = "master";

    async function fetchPosts() {
      const res = await fetch(
        `https://cdn.contentful.com/spaces/${spaceId}/environments/${environment}/entries?access_token=${accessToken}&content_type=blogPost&order=-fields.dateTime`
      );
      const data = await res.json();

      const container = document.getElementById("articles");
      container.innerHTML = data.items.map(post => {
        const { title, dateTime } = post.fields;
        return `
          <div class="article-card" onclick="window.location.href='singleArticle.html?id=${post.sys.id}'">
            <h2 class="title">${title}</h2>
            <div class="date">${new Date(dateTime).toDateString()}</div>
          </div>
        `;
      }).join("");
    }

    fetchPosts();
  </script>
</body>
</html>
